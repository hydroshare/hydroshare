{% load mezzanine_tags hydroshare_tags %}
{% block extra_css %}
<link href="{{ STATIC_URL }}css/identifiers.css" rel="stylesheet"/>
{% endblock %}
<div id="edit-identifiers-container">
    <!--Template use for dynamic instances-->
    <div id="identifier-template" class="well hidden">
        <div style="height:22px;">
            <button type="button" class="close">&times;</button>
        </div>

        <fieldset class="select-identifier-fieldset">
            <label for="selectIdentifier">Identifier Name</label>
            <select class="form-control select-identifier"
                    id="selectIdentifier">
                <option disabled selected> -- Select an option -- </option>
                <option value="Google Scholar">Google Scholar</option>
                <option value="ORCID">ORCID</option>
                <option value="ResearchGate">ResearchGate</option>
                <option value="ResearcherID">ResearcherID</option>
                <option value="Other">Other</option>
            </select>
        </fieldset>

        <fieldset class="hidden identifier-specify">
            <label for="identifier_name">Specify</label>
            <input id="identifier_name" class="form-control">
        </fieldset>

        <fieldset class="identifier-link-container">
            <label for="identifier_link">Identifier Link</label>
            <input id="identifier_link"
                   class="form-control identifier-link">
        </fieldset>
    </div>

    {% for name, link in identifiers.items %}
    <div class="well">
        <div style="height:22px;">
            <button type="button" class="close">&times;</button>
        </div>

        <fieldset class="select-identifier-fieldset">
            <label for="select_identifier{{ forloop.counter }}">Identifier Name</label>
            <select class="form-control select-identifier"
                    id="select_identifier{{ forloop.counter }}"
                    {% if name == "Google Scholar" or name == "ORCID" or name == "ResearchGate" or name == "ResearcherID" %}
                    name="identifier_name"
                    value="{{ name }}"
                    {% else %}
                    value = "Other"
                    {% endif %}
            >
                <option value="Google Scholar"
                        {% if name == "Google Scholar" %}selected{% endif %}>
                    Google Scholar
                </option>
                <option value="ORCID"
                        {% if name == "ORCID" %}selected{% endif %}>ORCID
                </option>
                <option value="ResearchGate"
                        {% if name == "ResearchGate" %}selected{% endif %}>
                    ResearchGate
                </option>
                <option value="ResearcherID"
                        {% if name == "ResearcherID" %}selected{% endif %}>
                    ResearcherID
                </option>

                <option value="Other"
                        {% if not name == "Google Scholar" and not name == "ORCID" and not name == "ResearchGate" and not name == "ResearcherID" %}
                        selected
                        {% endif %}
                >Other
                </option>
            </select>
        </fieldset>

        {% if name == "Google Scholar" or name == "ORCID" or name == "ResearchGate" or name == "ResearcherID" %}
        <fieldset class="hidden identifier-specify">
            <label for="identifier_specify_name{{ forloop.counter }}">Specify</label>
            <input id="identifier_specify_name{{ forloop.counter }}"
                   class="form-control">
        </fieldset>
        {% else %}
        <fieldset class="identifier-specify">
            <label for="identifier_specify_name{{ forloop.counter }}">Specify</label>
            <input id="identifier_specify_name{{ forloop.counter }}"
                   name="identifier_name"
                   value="{{ name }}"
                   class="form-control">
        </fieldset>
        {% endif %}

        <fieldset>
            <label for="identifier_link{{ forloop.counter }}">Identifier Link</label>
            <input id="identifier_link{{ forloop.counter }}" name="identifier_link"
                   class="form-control identifier-link" value="{{ link }}">
        </fieldset>
    </div>
    {% endfor %}
</div>

<button id="btn-add-identifier" type="button" class="btn btn-success">
    <i class="fa fa-plus" aria-hidden="true"></i> Add New
</button>

{% block extra_js %}
    <script type="text/javascript" src="{{ STATIC_URL }}js/identifiers-form.js"></script>
{% endblock %}